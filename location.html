<!DOCTYPE html>
<html>
<body>

<p>Click the button to get your coordinates.</p>

<button onclick="getLocation()">Try It</button>
<button onclick="getDistance()">Get Distance</button>
<p id="demo"></p>

<script>
var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude;	
}

function toRadians (angle) {
  return angle * (Math.PI / 180);
}
//Haversine Forumula to calculate distance between a pair of longitude and latitude values
function getDistance(){
    var R = 6371000;
    //livi tower details
    var lon1 = -4.2437873;
    var lat1 = 55.861057699999996;
    //london details
    var lon2 =  -0.1257400;
    var lat2 = 51.5085300;
    
    var val1 = toRadians(lat1);
    var val2 = toRadians(lat2);
    var val3 = toRadians(lat2-lat1);
    var val4 = toRadians(lon2-lon1);
    x.innerHTML = "test2";

    var a = Math.sin(val3/2) * Math.sin(val3/2) +
            Math.cos(val1) * Math.cos(val2) *
            Math.sin(val4/2) * Math.sin(val4/2);
    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    var d = R * c;

    x.innerHTML = "Distance is :"+(d*0.00062137)+"miles";
}
</script>

</body>
</html>
